@model  IEnumerable<deepp.Entities.Models.Designation>
@{
    ViewBag.Title = "Institute Vacancy";
}
<div class="page-header">
    <div class="row">
        <div class="col-md-6 col-sm-6">
            <h2 class="page-title">Vacancy Analysis</h2>
        </div> <!-- /.col-md-6 -->
        <div class="col-md-6 col-sm-6 hidden-xs back-home">
            @Html.ActionLink("← Go back Home", "Index", "Home", new { }, null)
        </div> <!-- /.col-md-6 -->
    </div> <!-- /.row -->
</div>
<div class="row">
    <div class="col-md-4">
        <div class="box-content">
            <h4 class="widget-title"><span>Notice</span></h4>
            @{Html.RenderAction("GetAll", "Notice");}
            @Html.ActionLink("More Notice", "GetAllWithGrid", "Notice", new { }, new { @class = "btn btn-default-alt btn-sm pull-right" })
        </div> <!-- /.box-content -->
        <div class="box-content">
            <h4 class="widget-title"><span>Gallery</span></h4>
            @{Html.RenderAction("GetPartialGallery", "Gallery");}
        </div> <!-- /.box-content -->
    </div>
    <div class="col-md-8">
        <div class="box-content">
            <h4 class="widget-title"><span>Vacancy analysis</span></h4>
            <table class="table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Required</th>
                        <th>Available</th>
                        <th>Vacant</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var row in @Model)
                    {
                        var av = row.Teachers.Count() + row.Employees.Count();
                        var v = row.StaffRequired == null ? "" : (row.StaffRequired.Value - av).ToString();
                        
                        <tr>
                            <td>@row.Name</td>
                            <td>@row.StaffRequired</td>
                            <td>@av</td>
                            <td>@v</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div> <!-- /.box-content -->
    </div>
</div>
