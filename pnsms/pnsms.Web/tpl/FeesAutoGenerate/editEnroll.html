<div class="bg-details b-b wrapper-sm text-primary-dker">
    <h3 class="m-n"><i class="icon-briefcase "></i> &nbsp;Enrollment Fees Generate Config</h3>
</div>
<div class="wrapper-md">
    <div class="col-sm-12">
        <!-- toaster directive -->
        <toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>
        <progressbar class="progress-striped active" value="100" type="info" ng-show="isLoading">Loading...  </progressbar>
        <!-- attendance directive -->
        <div class="panel wrapper row">
            <form role="form" name="step1" ng-controller="FeesEnrollAutoGenerateEditCtrl" ng-submit="UpdateFeesAutoEnrollGenerate()" class="form-validation" method="post">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Title </label>
                            <input class="form-control" data-ng-model="feesAutoGenModel.FeesAutoGenerateConfig.Name" required placeholder="Title" type="text">
                        </div>
                    </div>
                </div>
                <div class="col-sm-10 panel-heading wrapper-xs"><b>Students Selection:</b><br /></div>
                <div class="row wrapper">
                    <div class="col-sm-12">
                        <div class="form-group" style="display:none">
                            <label class="i-checks m-b-none">
                                <input type="checkbox" data-ng-model="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicBranch"> <i></i>
                            </label>
                            <label ng-hide="!feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicBranch">Students Of All Branches </label>
                            <div class="form-group">
                                <div ng-hide="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicBranch" class="form-control-static input-group col-sm-5">
                                    <label>Students Of Branches </label>
                                    <ui-select multiple ng-model="feesAutoGenModel.selectedBranches" theme="bootstrap" ng-disabled="disabled" class="col-sm-5">
                                        <ui-select-match placeholder="Select Branches...">{{$item.Value}}</ui-select-match>
                                        <ui-select-choices repeat="c in feesAutoGenModel.BranchList | propsFilter: {Key: $select.search, Value: $select.search}">
                                            <div ng-bind-html="c.Value | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" style="display:none">
                            <label class="i-checks m-b-none">
                                <input type="checkbox" data-ng-model="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicVerssion"> <i></i>
                            </label>
                            <label ng-hide="!feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicVerssion">Students Of All Verssions </label>
                            <div class="form-group">
                                <div ng-hide="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicVerssion" class="form-control-static input-group col-sm-5">
                                    <label>Students Of Version </label>

                                    <ui-select multiple ng-model="feesAutoGenModel.selectedVersions" theme="bootstrap" ng-disabled="disabled" class="col-sm-5">
                                        <ui-select-match placeholder="Select Versions...">{{$item.Value}}</ui-select-match>
                                        <ui-select-choices repeat="c in feesAutoGenModel.VersionList | propsFilter: {Key: $select.search, Value: $select.search}">
                                            <div ng-bind-html="c.Value | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="i-checks m-b-none">
                                <input type="checkbox" data-ng-model="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicClass"> <i></i>
                            </label>
                            <label ng-hide="!feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicClass">Students Of All Classes</label>
                            <div class="form-group">
                                <div ng-hide="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicClass" class="form-control-static input-group col-sm-5">
                                    <label>Students Of Class</label>

                                    <ui-select multiple ng-model="feesAutoGenModel.selectedClasses" theme="bootstrap" ng-disabled="disabled" class="col-sm-5">
                                        <ui-select-match placeholder="Select Classes...">{{$item.Value}}</ui-select-match>
                                        <ui-select-choices repeat="c in feesAutoGenModel.ClassList | propsFilter: {Key: $select.search, Value: $select.search}">
                                            <div ng-bind-html="c.Value | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" style="display:none">
                            <label class="i-checks m-b-none">
                                <input type="checkbox" data-ng-model="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicShift"> <i></i>
                            </label>
                            <label ng-hide="!feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicShift">Students Of All Shifts</label>
                            <div class="form-group">
                                <div ng-hide="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicShift" class="form-control-static input-group col-sm-5">
                                    <label>Students Of Shift</label>

                                    <ui-select multiple ng-model="feesAutoGenModel.selectedShifts" theme="bootstrap" ng-disabled="disabled" class="col-sm-5">
                                        <ui-select-match placeholder="Select Shifts...">{{$item.Value}}</ui-select-match>
                                        <ui-select-choices repeat="c in feesAutoGenModel.ShiftList | propsFilter: {Key: $select.search, Value: $select.search}">
                                            <div ng-bind-html="c.Value | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" style="display:none">
                            <label class="i-checks m-b-none">
                                <input type="checkbox" data-ng-model="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicGroup"> <i></i>
                            </label>
                            <label ng-hide="!feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicGroup">Students Of All Groups</label>
                            <div class="form-group">
                                <div ng-hide="feesAutoGenModel.FeesAutoGenerateConfig.IsAllAcademicGroup" class="form-control-static input-group col-sm-5">
                                    <label>Students Of Group </label>

                                    <ui-select multiple ng-model="feesAutoGenModel.selectedGroups" theme="bootstrap" ng-disabled="disabled" class="col-sm-5">
                                        <ui-select-match placeholder="Select Groups...">{{$item.Value}}</ui-select-match>
                                        <ui-select-choices repeat="c in feesAutoGenModel.GroupList | propsFilter: {Key: $select.search, Value: $select.search}">
                                            <div ng-bind-html="c.Value | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" style="display:none">
                            <label class="i-checks m-b-none">
                                <input type="checkbox" data-ng-model="feesAutoGenModel.FeesAutoGenerateConfig.IsAllFacility"> <i></i>
                            </label>
                            <label ng-hide="!feesAutoGenModel.FeesAutoGenerateConfig.IsAllFacility">Students Of All Facilities</label>
                            <div class="form-group">
                                <div ng-hide="feesAutoGenModel.FeesAutoGenerateConfig.IsAllFacility" class="form-control-static input-group col-sm-5">
                                    <label>Students Of Facility</label>
                                    <select ng-model="feesAutoGenModel.FeesAutoGenerateConfig.FacilityId" class="form-control m-b ng-pristine ng-invalid ng-invalid-required ng-dirty ng-touched"
                                            ng-options="c.Key as c.Value for c in feesAutoGenModel.FacilityList">
                                        <option value="">Please Select</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped b-t b-light">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Publish Date</th>
                                        <th>Due Date</th>
                                        <th ng-repeat="x in feesAutoGenModel.FeesGenerateHeadList | orderBy:'FeesHeadId' "><p>{{x.HeadName}}<br />(Vat: {{x.VAT}}%)</p></th>
                                    </tr>
                                </thead>
                                <tbody ng-show="feesAutoGenModel.FeesGenerateHeadList.length">
                                    <tr>
                                        <td><select ng-model="xx.Session" style="width:110px;" class="form-control m-b" ng-options="c.Key as c.Value for c in feesAutoGenModel.SessionList"></select></td>
                                        <td class="form-inline">
                                            <select ng-model="xx.Month" class="form-control m-b" ng-options="c.Key as c.Value for c in Monthes"></select>
                                            <select ng-model="xx.Day" class="form-control m-b" ng-options="c.Key as c.Value for c in feesAutoGenModel.DayList"></select>
                                        </td>
                                        <td class="form-inline">
                                            <select ng-model="xx.DueMonth" class="form-control m-b" ng-options="c.Key as c.Value for c in Monthes"></select>
                                            <select ng-model="xx.DueDay" class="form-control m-b" ng-options="c.Key as c.Value for c in feesAutoGenModel.DayList"></select>
                                        </td>
                                        <td ng-repeat="x in feesAutoGenModel.FeesGenerateHeadList">
                                            <input type="hidden" value="{{ x.FeesHeadId }}">
                                            <input type="number" class="form-control m-b" step=".01" data-ng-model="x.Amount" ng-change="UpdateAmount(x)">
                                        </td>
                                        <td>
                                            <span class="pull-right text-success" style="cursor: pointer" ng-disabled="!xx.Session
                                                  || !xx.Month
                                                  || !xx.Day
                                                  || !xx.DueMonth
                                                  || !xx.DueDay" ng-click="AddSingle(xx)">
                                                <i class="fa fa-2x fa-plus"></i>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                                <tfoot ng-show="items.length">
                                    <tr>
                                        <td colspan="3"></td>
                                        <td class="form-inline" ng-repeat="x in feesAutoGenModel.FeesGenerateHeadList | orderBy:'FeesHeadId'">
                                            <table class="table table-bordered table-striped b-t b-light">
                                                <tr>
                                                    <td width="40%">Amount</td>
                                                    <td width="20%">Vat</td>
                                                    <td width="40%" style="text-align: right">Total Amount</td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td></td>
                                    </tr>
                                    <tr ng-repeat="item in items" class="ng-scope">
                                        <td class="ng-binding">
                                            <strong>{{item.Session}}</strong>
                                        </td>
                                        <td class="ng-binding">
                                            <strong>{{item.Day}}, {{item.Month}}</strong>
                                        </td>
                                        <td class="ng-binding">
                                            <strong>{{item.DueDay}}, {{item.DueMonth}} </strong>
                                        </td>
                                        <td class="form-inline" ng-repeat="x in item.AmountDetails">
                                            <table class="table table-bordered table-striped b-t b-light">
                                                <tr>
                                                    <td width="40%">{{Math.round(x.Amount)}}</td>
                                                    <td width="20%">{{Math.round(x.Vat)}}</td>
                                                    <td width="40%" style="text-align: right">{{Math.round(x.Total)}}</td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td>
                                            <span class="pull-right text-danger" style="cursor: pointer" ng-click="DeleteSingle($index)">
                                                <i class="fa fa-2x fa-times"></i>
                                            </span>
                                        </td>
                                    </tr>
                                    <tr class="ng-scope">
                                        <td colspan="8" style="text-align: right;"><strong>Total Amount :   {{Math.round(tSumTotal)}}</strong></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                    <!--<div class="col-sm-12">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped b-t b-light">
                                <thead>
                                    <tr>
                                        <th>Paticulars</th>
                                        <th ng-repeat="x in feesAutoGenModel.FeesGenerateHeadList | orderBy:'FeesHeadId' "><p>{{x.HeadName}}<br />(Vat: {{x.VAT}}%)</p></th>
                                    </tr>
                                </thead>
                                <tbody ng-show="feesAutoGenModel.FeesGenerateHeadList.length">
                                    <tr>
                                        <td class="form-inline">
                                            <select ng-model="xx.Session" class="form-control m-b" ng-options="c.Key as c.Value for c in feesAutoGenModel.SessionList"></select>
                                            <select ng-model="xx.Month" class="form-control m-b" ng-options="c.Key as c.Value for c in Monthes"></select>
                                            <select ng-model="xx.Day" class="form-control m-b" ng-options="c.Key as c.Value for c in feesAutoGenModel.DayList"></select>
                                        </td>
                                        <td ng-repeat="x in feesAutoGenModel.FeesGenerateHeadList">
                                            <input type="hidden" value="{{ x.FeesHeadId }}">
                                            <input type="number" class="form-control m-b" step=".01" data-ng-model="x.Amount" ng-change="UpdateAmount(x)">
                                        </td>
                                        <td>
                                            <span class="pull-right text-success" style="cursor: pointer" ng-click="AddSingle(xx)">
                                                <i class="fa fa-2x fa-plus"></i>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                                <tfoot ng-show="items.length">
                                    <tr>
                                        <td></td>
                                        <td class="form-inline" ng-repeat="x in feesAutoGenModel.FeesGenerateHeadList | orderBy:'FeesHeadId'">
                                            <table class="table table-bordered table-striped b-t b-light">
                                                <tr>
                                                    <td width="40%">Amount</td>
                                                    <td width="20%">Vat</td>
                                                    <td width="40%" style="text-align: right">Total Amount</td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td></td>
                                    </tr>
                                    <tr ng-repeat="item in items" class="ng-scope">
                                        <td class="ng-binding"><strong>{{item.Session}}:  {{item.Day}}, {{item.Month}}</strong></td>
                                        <td class="form-inline" ng-repeat="x in item.AmountDetails">
                                            <table class="table table-bordered table-striped b-t b-light">
                                                <tr>
                                                    <td width="40%">{{x.Amount}}</td>
                                                    <td width="20%">{{x.Vat}}</td>
                                                    <td width="40%" style="text-align: right">{{x.Total}}</td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td>
                                            <span class="pull-right text-danger" style="cursor: pointer" ng-click="DeleteSingle($index)">
                                                <i class="fa fa-2x fa-times"></i>
                                            </span>
                                        </td>
                                    </tr>
                                    <tr class="ng-scope">
                                        <td colspan="8" style="text-align: right;"><strong>Total Amount :   {{tSumTotal}}</strong></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>-->
                </div>
                <div class="col-sm-10">
                    <div class="form-group">
                        <div class="form-group pull-left">
                            <label><input type="radio" ng-model="feesAutoGenModel.FeesAutoGenerateConfig.IsActive" value="1">&nbsp;<i class="fa fa-check text-success "></i>Enabled&nbsp;&nbsp;</label>
                            <label><input type="radio" ng-model="feesAutoGenModel.FeesAutoGenerateConfig.IsActive" value="0">&nbsp;<i class="fa fa-times text-danger text"></i>Disabled </label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Remarks </label>
                            <textarea class="form-control" cols="50" rows="5" data-ng-model="feesAutoGenModel.FeesAutoGenerateConfig.Description" placeholder="Remarks"></textarea>
                        </div>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in ng-scope"></div>
                <div class="row">
                    <div class="form-group">
                        <div class="col-sm-2 ">
                            <a ui-sref="app.feesAutoGenerate.listEnroll" class="btn btn-default pull-left"><i class="icon-action-undo"></i> &nbsp;Back to List</a>
                        </div>
                        <div class="col-sm-2 pull-right">
                            <button type="submit" class="btn btn-info pull-right"><i class="glyphicon glyphicon-floppy-saved"></i>&nbsp;Submit</button>
                        </div>
                    </div>
                </div>
            </form>

        </div>
    </div>
</div>